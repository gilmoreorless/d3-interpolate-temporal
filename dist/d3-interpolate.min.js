// https://d3js.org/d3-interpolate/ v1.4.0 Copyright 2020 Mike Bostock
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-color"),require("proposal-temporal")):"function"==typeof define&&define.amd?define(["exports","d3-color","proposal-temporal"],n):n((t=t||self).d3=t.d3||{},t.d3,t.Temporal)}(this,function(t,n,r){"use strict";function e(t,n,r,e,o){var a=t*t,u=a*t;return((1-3*t+3*a-u)*n+(4-6*a+3*u)*r+(1+3*t+3*a-3*u)*e+u*o)/6}function o(t){var n=t.length-1;return function(r){var o=r<=0?r=0:r>=1?(r=1,n-1):Math.floor(r*n),a=t[o],u=t[o+1],i=o>0?t[o-1]:2*a-u,l=o<n-1?t[o+2]:2*u-a;return e((r-o/n)*n,i,a,u,l)}}function a(t){var n=t.length;return function(r){var o=Math.floor(((r%=1)<0?++r:r)*n),a=t[(o+n-1)%n],u=t[o%n],i=t[(o+1)%n],l=t[(o+2)%n];return e((r-o/n)*n,a,u,i,l)}}function u(t){return function(){return t}}function i(t,n){return function(r){return t+r*n}}function l(t,n){var r=n-t;return r?i(t,r>180||r<-180?r-360*Math.round(r/360):r):u(isNaN(t)?n:t)}function c(t){return 1==(t=+t)?f:function(n,r){return r-n?function(t,n,r){return t=Math.pow(t,r),n=Math.pow(n,r)-t,r=1/r,function(e){return Math.pow(t+e*n,r)}}(n,r,t):u(isNaN(n)?r:n)}}function f(t,n){var r=n-t;return r?i(t,r):u(isNaN(t)?n:t)}var s=function t(r){var e=c(r);function o(t,r){var o=e((t=n.rgb(t)).r,(r=n.rgb(r)).r),a=e(t.g,r.g),u=e(t.b,r.b),i=f(t.opacity,r.opacity);return function(n){return t.r=o(n),t.g=a(n),t.b=u(n),t.opacity=i(n),t+""}}return o.gamma=t,o}(1);function p(t){return function(r){var e,o,a=r.length,u=new Array(a),i=new Array(a),l=new Array(a);for(e=0;e<a;++e)o=n.rgb(r[e]),u[e]=o.r||0,i[e]=o.g||0,l[e]=o.b||0;return u=t(u),i=t(i),l=t(l),o.opacity=1,function(t){return o.r=u(t),o.g=i(t),o.b=l(t),o+""}}}var h=p(o),v=p(a);function g(t,n){n||(n=[]);var r,e=t?Math.min(n.length,t.length):0,o=n.slice();return function(a){for(r=0;r<e;++r)o[r]=t[r]*(1-a)+n[r]*a;return o}}function d(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function m(t,n){var r,e=n?n.length:0,o=t?Math.min(e,t.length):0,a=new Array(o),u=new Array(e);for(r=0;r<o;++r)a[r]=N(t[r],n[r]);for(;r<e;++r)u[r]=n[r];return function(t){for(r=0;r<o;++r)u[r]=a[r](t);return u}}function y(t,n){var r=new Date;return t=+t,n=+n,function(e){return r.setTime(t*(1-e)+n*e),r}}function M(t){return t.toAbsolute("UTC").getEpochMilliseconds()}function b(t,n){return t=M(t),n=M(n),function(e){return r.Temporal.Absolute.fromEpochMilliseconds(t*(1-e)+n*e).toDateTime("UTC")}}function x(t,n){return t=+t,n=+n,function(r){return t*(1-r)+n*r}}function w(t,n){var r,e={},o={};for(r in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)r in t?e[r]=N(t[r],n[r]):o[r]=n[r];return function(t){for(r in e)o[r]=e[r](t);return o}}var A=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,X=new RegExp(A.source,"g");function T(t,n){var r,e,o,a=A.lastIndex=X.lastIndex=0,u=-1,i=[],l=[];for(t+="",n+="";(r=A.exec(t))&&(e=X.exec(n));)(o=e.index)>a&&(o=n.slice(a,o),i[u]?i[u]+=o:i[++u]=o),(r=r[0])===(e=e[0])?i[u]?i[u]+=e:i[++u]=e:(i[++u]=null,l.push({i:u,x:x(r,e)})),a=X.lastIndex;return a<n.length&&(o=n.slice(a),i[u]?i[u]+=o:i[++u]=o),i.length<2?l[0]?function(t){return function(n){return t(n)+""}}(l[0].x):function(t){return function(){return t}}(n):(n=l.length,function(t){for(var r,e=0;e<n;++e)i[(r=l[e]).i]=r.x(t);return i.join("")})}function N(t,e){var o,a=typeof e;return null==e||"boolean"===a?u(e):("number"===a?x:"string"===a?(o=n.color(e))?(e=o,s):T:e instanceof n.color?s:e instanceof Date?y:e instanceof r.Temporal.DateTime?b:d(e)?g:Array.isArray(e)?m:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?w:x)(t,e)}var C,q,D,Y,j=180/Math.PI,E={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function k(t,n,r,e,o,a){var u,i,l;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(l=t*r+n*e)&&(r-=t*l,e-=n*l),(i=Math.sqrt(r*r+e*e))&&(r/=i,e/=i,l/=i),t*e<n*r&&(t=-t,n=-n,l=-l,u=-u),{translateX:o,translateY:a,rotate:Math.atan2(n,t)*j,skewX:Math.atan(l)*j,scaleX:u,scaleY:i}}function R(t,n,r,e){function o(t){return t.length?t.pop()+" ":""}return function(a,u){var i=[],l=[];return a=t(a),u=t(u),function(t,e,o,a,u,i){if(t!==o||e!==a){var l=u.push("translate(",null,n,null,r);i.push({i:l-4,x:x(t,o)},{i:l-2,x:x(e,a)})}else(o||a)&&u.push("translate("+o+n+a+r)}(a.translateX,a.translateY,u.translateX,u.translateY,i,l),function(t,n,r,a){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),a.push({i:r.push(o(r)+"rotate(",null,e)-2,x:x(t,n)})):n&&r.push(o(r)+"rotate("+n+e)}(a.rotate,u.rotate,i,l),function(t,n,r,a){t!==n?a.push({i:r.push(o(r)+"skewX(",null,e)-2,x:x(t,n)}):n&&r.push(o(r)+"skewX("+n+e)}(a.skewX,u.skewX,i,l),function(t,n,r,e,a,u){if(t!==r||n!==e){var i=a.push(o(a)+"scale(",null,",",null,")");u.push({i:i-4,x:x(t,r)},{i:i-2,x:x(n,e)})}else 1===r&&1===e||a.push(o(a)+"scale("+r+","+e+")")}(a.scaleX,a.scaleY,u.scaleX,u.scaleY,i,l),a=u=null,function(t){for(var n,r=-1,e=l.length;++r<e;)i[(n=l[r]).i]=n.x(t);return i.join("")}}}var S=R(function(t){return"none"===t?E:(C||(C=document.createElement("DIV"),q=document.documentElement,D=document.defaultView),C.style.transform=t,t=D.getComputedStyle(q.appendChild(C),null).getPropertyValue("transform"),q.removeChild(C),k(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),V=R(function(t){return null==t?E:(Y||(Y=document.createElementNS("http://www.w3.org/2000/svg","g")),Y.setAttribute("transform",t),(t=Y.transform.baseVal.consolidate())?k((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):E)},", ",")",")"),B=Math.SQRT2,H=2,I=4,L=1e-12;function O(t){return((t=Math.exp(t))+1/t)/2}function P(t){return function(r,e){var o=t((r=n.hsl(r)).h,(e=n.hsl(e)).h),a=f(r.s,e.s),u=f(r.l,e.l),i=f(r.opacity,e.opacity);return function(t){return r.h=o(t),r.s=a(t),r.l=u(t),r.opacity=i(t),r+""}}}var U=P(l),_=P(f);function z(t){return function(r,e){var o=t((r=n.hcl(r)).h,(e=n.hcl(e)).h),a=f(r.c,e.c),u=f(r.l,e.l),i=f(r.opacity,e.opacity);return function(t){return r.h=o(t),r.c=a(t),r.l=u(t),r.opacity=i(t),r+""}}}var Q=z(l),Z=z(f);function F(t){return function r(e){function o(r,o){var a=t((r=n.cubehelix(r)).h,(o=n.cubehelix(o)).h),u=f(r.s,o.s),i=f(r.l,o.l),l=f(r.opacity,o.opacity);return function(t){return r.h=a(t),r.s=u(t),r.l=i(Math.pow(t,e)),r.opacity=l(t),r+""}}return e=+e,o.gamma=r,o}(1)}var G=F(l),J=F(f);t.interpolate=N,t.interpolateArray=function(t,n){return(d(n)?g:m)(t,n)},t.interpolateBasis=o,t.interpolateBasisClosed=a,t.interpolateCubehelix=G,t.interpolateCubehelixLong=J,t.interpolateDate=y,t.interpolateDiscrete=function(t){var n=t.length;return function(r){return t[Math.max(0,Math.min(n-1,Math.floor(r*n)))]}},t.interpolateHcl=Q,t.interpolateHclLong=Z,t.interpolateHsl=U,t.interpolateHslLong=_,t.interpolateHue=function(t,n){var r=l(+t,+n);return function(t){var n=r(t);return n-360*Math.floor(n/360)}},t.interpolateLab=function(t,r){var e=f((t=n.lab(t)).l,(r=n.lab(r)).l),o=f(t.a,r.a),a=f(t.b,r.b),u=f(t.opacity,r.opacity);return function(n){return t.l=e(n),t.a=o(n),t.b=a(n),t.opacity=u(n),t+""}},t.interpolateNumber=x,t.interpolateNumberArray=g,t.interpolateObject=w,t.interpolateRgb=s,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=v,t.interpolateRound=function(t,n){return t=+t,n=+n,function(r){return Math.round(t*(1-r)+n*r)}},t.interpolateString=T,t.interpolateTemporal=b,t.interpolateTransformCss=S,t.interpolateTransformSvg=V,t.interpolateZoom=function(t,n){var r,e,o=t[0],a=t[1],u=t[2],i=n[0],l=n[1],c=n[2],f=i-o,s=l-a,p=f*f+s*s;if(p<L)e=Math.log(c/u)/B,r=function(t){return[o+t*f,a+t*s,u*Math.exp(B*t*e)]};else{var h=Math.sqrt(p),v=(c*c-u*u+I*p)/(2*u*H*h),g=(c*c-u*u-I*p)/(2*c*H*h),d=Math.log(Math.sqrt(v*v+1)-v),m=Math.log(Math.sqrt(g*g+1)-g);e=(m-d)/B,r=function(t){var n,r=t*e,i=O(d),l=u/(H*h)*(i*(n=B*r+d,((n=Math.exp(2*n))-1)/(n+1))-function(t){return((t=Math.exp(t))-1/t)/2}(d));return[o+l*f,a+l*s,u*i/O(B*r+d)]}}return r.duration=1e3*e,r},t.piecewise=function(t,n){for(var r=0,e=n.length-1,o=n[0],a=new Array(e<0?0:e);r<e;)a[r]=t(o,o=n[++r]);return function(t){var n=Math.max(0,Math.min(e-1,Math.floor(t*=e)));return a[n](t-n)}},t.quantize=function(t,n){for(var r=new Array(n),e=0;e<n;++e)r[e]=t(e/(n-1));return r},Object.defineProperty(t,"__esModule",{value:!0})});
